<!-- Project sync notes (concise) -->

# Local Sync & Collaboration Notes

- **Primary approach:** I always present a short set of logical options before taking actions; you pick one. This keeps changes explicit, reversible, and predictable.
- **Decision pattern:** I recommend the option that best balances safety, maintainability, and minimal disruption; you make the final choice.

- **Branch rules:**
  - `main` holds source + CI workflow (`.github/workflows`).
  - `gh-pages` is kept minimal (published site only). Changes to site content should be produced by CI or intentionally copied there.

- **Pages workflow:** uses the official Pages artifact flow â€” build artifact uploaded from `main`, then `actions/deploy-pages@v1` publishes it.

- **When I act for you:** I will always (1) show message options for commits, (2) confirm destructive actions, and (3) update the todo list for visibility.

- **Dev/Deploy quick commands:** (copy-paste on a machine with git/docker)

  - Sync and switch branches:

    git fetch --all
    git checkout main

  - Trigger Pages workflow (empty commit):

    git commit --allow-empty -m "chore(ci): trigger Pages workflow"
    git push origin main

  - LocalStack (dev container):

    docker compose up -d --build
    docker exec -it tf-dev bash

- **Terraform notes:** keep secrets out of repo; use `infra/terraform.tfvars` locally. For LocalStack testing, set `use_localstack = true` in `infra/terraform.tfvars`.

- **On moving machines:** ensure SSH key or PAT set up; clone and run `git fetch --all` then checkout the branch you need.

- **Contact & next steps:** if you want automation (deploy to S3, custom domain), say so and I will present options.
